/* Emergency Officer Dashboard Styles */
.emergency-dashboard {
  --primary: #e63946; /* emergency red */
  --danger: #e63946;
  --success: #2a9d8f;
  --warning: #f4a261;
  --info: #3a86ff;
  --dark: #343a40;
  --light: #f8f9fa;

  background-color: #fff7f7; /* subtle red-tinted bg */
  color: #333;
  min-height: 100vh;
  display: flex;
}

.dashboard-container { display: flex; min-height: 100vh; }

.main-content { flex: 1; padding: 20px; overflow-y: auto; }

.emergency-dashboard .dashboard-main { flex: 1; padding: 32px; display: flex; flex-direction: column; gap: 24px; background: #fff0f0; }
.emergency-dashboard .dashboard-header { display: flex; justify-content: space-between; align-items: flex-start; background: #fff; padding: 28px 32px; border-radius: 20px; box-shadow: 0 18px 45px rgba(230,57,70,0.1); gap: 24px; }
.emergency-dashboard .dashboard-header > div:first-child { display: flex; flex-direction: column; gap: 12px; }
.emergency-dashboard .dashboard-title { font-size: 30px; font-weight: 700; margin: 0; color: #b3202c; }
.emergency-dashboard .dashboard-meta { display: flex; align-items: center; gap: 14px; font-size: 14px; color: #6c4b4e; }
.emergency-dashboard .dashboard-actions { display: flex; gap: 14px; align-items: center; flex-wrap: wrap; }
.emergency-dashboard .btn-outline { background: transparent; border: 1px solid rgba(230,57,70,0.3); color: var(--danger); }
.emergency-dashboard .btn-outline:hover { background: rgba(230,57,70,0.1); }
.emergency-dashboard .btn-warning { background: var(--warning); color: #fff; }
.emergency-dashboard .btn-warning:hover { background: #d9822b; }
.emergency-dashboard .tab-bar { display: flex; gap: 12px; background: #fff; padding: 12px; border-radius: 16px; box-shadow: 0 16px 40px rgba(230,57,70,0.08); flex-wrap: wrap; }
.emergency-dashboard .tab-button { border: none; background: transparent; padding: 12px 20px; border-radius: 12px; font-weight: 600; color: #8c555a; cursor: pointer; transition: all .2s ease; text-transform: capitalize; }
.emergency-dashboard .tab-button.active { background: var(--danger); color: #fff; box-shadow: 0 12px 30px rgba(230,57,70,0.35); }
.emergency-dashboard .tab-button:not(.active):hover { background: rgba(230,57,70,0.12); color: var(--danger); }
.emergency-dashboard .tab-content { background: #fff; border-radius: 20px; box-shadow: 0 18px 45px rgba(230,57,70,0.08); padding: 32px; display: flex; flex-direction: column; gap: 24px; }
.emergency-dashboard .info-grid { display: grid; gap: 24px; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); }
.emergency-dashboard .info-card { background: #fff; border-radius: 18px; box-shadow: 0 16px 38px rgba(230,57,70,0.07); padding: 24px; display: flex; flex-direction: column; gap: 18px; }
.emergency-dashboard .info-card-title { font-size: 18px; font-weight: 700; color: #b3202c; }
.emergency-dashboard .info-item { display: flex; justify-content: space-between; align-items: flex-start; gap: 16px; padding: 12px 0; border-bottom: 1px solid #f6dfe1; }
.emergency-dashboard .info-item:last-child { border-bottom: none; }
.emergency-dashboard .info-label { font-weight: 600; color: #6c4b4e; min-width: 150px; text-transform: uppercase; font-size: 12px; letter-spacing: 0.06em; }
.emergency-dashboard .info-value { color: #2f1f21; font-weight: 500; text-align: right; }
.emergency-dashboard .timeline { display: flex; flex-direction: column; gap: 18px; }
.emergency-dashboard .timeline-item { display: flex; gap: 16px; border-radius: 16px; padding: 18px; border: 1px solid rgba(230,57,70,0.2); background: rgba(230,57,70,0.06); }
.emergency-dashboard .timeline-item.timeline-warning { background: rgba(244,162,97,0.12); border-color: rgba(244,162,97,0.4); }
.emergency-dashboard .timeline-item.timeline-info { background: rgba(58,134,255,0.12); border-color: rgba(58,134,255,0.35); }
.emergency-dashboard .timeline-item.timeline-success { background: rgba(42,157,143,0.12); border-color: rgba(42,157,143,0.35); }
.emergency-dashboard .timeline-icon { width: 48px; height: 48px; border-radius: 12px; background: #fff; display: flex; align-items: center; justify-content: center; font-size: 20px; color: var(--danger); box-shadow: 0 10px 25px rgba(0,0,0,0.08); }
.emergency-dashboard .timeline-content { flex: 1; display: flex; flex-direction: column; gap: 8px; }
.emergency-dashboard .timeline-head { display: flex; justify-content: space-between; align-items: baseline; gap: 12px; }
.emergency-dashboard .timeline-time { font-weight: 700; color: #b3202c; }
.emergency-dashboard .timeline-title { font-size: 16px; font-weight: 600; color: #2f1f21; }
.emergency-dashboard .timeline-detail { color: #58464a; line-height: 1.5; }
.emergency-dashboard .action-list { list-style: none; padding: 0; margin: 0; display: flex; flex-direction: column; gap: 16px; }
.emergency-dashboard .action-item { border: 1px solid rgba(230,57,70,0.2); border-radius: 16px; padding: 18px; background: #fff; box-shadow: 0 14px 32px rgba(230,57,70,0.07); transition: transform .2s ease, box-shadow .2s ease; cursor: pointer; display: flex; flex-direction: column; gap: 12px; outline: none; }
.emergency-dashboard .action-item:hover { transform: translateY(-4px); box-shadow: 0 16px 40px rgba(230,57,70,0.12); }
.emergency-dashboard .action-item.active { border-color: var(--danger); box-shadow: 0 18px 48px rgba(230,57,70,0.18); }
.emergency-dashboard .action-meta { display: flex; justify-content: space-between; align-items: center; gap: 12px; }
.emergency-dashboard .action-type { font-weight: 700; color: #8c555a; text-transform: uppercase; letter-spacing: 0.08em; font-size: 12px; }
.emergency-dashboard .action-summary { color: #2f1f21; font-weight: 600; line-height: 1.4; }
.emergency-dashboard .action-footer { display: flex; justify-content: space-between; color: #6c4b4e; font-size: 14px; }
.emergency-dashboard .action-footer span { display: flex; align-items: center; gap: 8px; }
.emergency-dashboard .action-detail { display: flex; flex-direction: column; gap: 16px; background: #fff; border-radius: 18px; box-shadow: 0 18px 45px rgba(230,57,70,0.1); padding: 24px; border: 1px solid rgba(230,57,70,0.16); }
.emergency-dashboard .action-buttons { display: flex; flex-wrap: wrap; gap: 12px; margin-top: 8px; }
.emergency-dashboard .attachments { display: grid; gap: 16px; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); }
.emergency-dashboard .attachment-card { display: flex; align-items: center; gap: 16px; padding: 18px; border-radius: 16px; border: 1px solid rgba(230,57,70,0.18); background: #fff; box-shadow: 0 14px 32px rgba(230,57,70,0.07); }
.emergency-dashboard .attachment-icon { width: 48px; height: 48px; border-radius: 12px; background: rgba(230,57,70,0.12); display: flex; align-items: center; justify-content: center; font-size: 20px; color: var(--danger); }
.emergency-dashboard .attachment-info { flex: 1; display: flex; flex-direction: column; gap: 6px; }
.emergency-dashboard .attachment-name { font-weight: 600; color: #2f1f21; }
.emergency-dashboard .attachment-meta { font-size: 13px; color: #6c4b4e; }
.emergency-dashboard .attachment-card .btn-outline { padding: 10px 16px; }
.emergency-dashboard .upload-box { margin-top: 8px; border: 2px dashed rgba(230,57,70,0.35); border-radius: 16px; padding: 24px; text-align: center; cursor: pointer; color: #8c555a; transition: border-color .2s ease, background .2s ease; display: block; }
.emergency-dashboard .upload-box:hover { border-color: var(--danger); background: rgba(230,57,70,0.08); }
.emergency-dashboard .upload-content { display: flex; flex-direction: column; gap: 8px; align-items: center; font-weight: 600; }
.emergency-dashboard .notes-list { display: flex; flex-direction: column; gap: 18px; max-height: 360px; overflow-y: auto; padding-right: 4px; }
.emergency-dashboard .notes-list::-webkit-scrollbar { width: 6px; }
.emergency-dashboard .notes-list::-webkit-scrollbar-thumb { background: rgba(230,57,70,0.3); border-radius: 4px; }
.emergency-dashboard .note-card { padding: 18px; border-radius: 16px; border: 1px solid rgba(230,57,70,0.18); background: #fff; box-shadow: 0 14px 34px rgba(230,57,70,0.08); display: flex; flex-direction: column; gap: 12px; }
.emergency-dashboard .note-header { display: flex; justify-content: space-between; align-items: flex-start; gap: 12px; }
.emergency-dashboard .note-author { font-weight: 700; color: #2f1f21; }
.emergency-dashboard .note-role { font-size: 13px; color: #8c555a; }
.emergency-dashboard .note-time { font-size: 13px; color: #b3202c; font-weight: 600; }
.emergency-dashboard .note-body { color: #4d3a3d; line-height: 1.5; }
.emergency-dashboard textarea.form-control { min-height: 120px; resize: vertical; }
.emergency-dashboard .badge-inprogress { background: rgba(58,134,255,0.15); color: #1b5bd6; }
.emergency-dashboard .badge-completed { background: rgba(42,157,143,0.15); color: #1f7d6f; }
.emergency-dashboard .badge-pending { background: rgba(244,162,97,0.2); color: #d9822b; }
.emergency-dashboard .badge-ongoing { background: rgba(0,0,0,0.08); color: #4d3a3d; }
.emergency-dashboard .tab-content .info-card { box-shadow: none; border: 1px solid rgba(230,57,70,0.15); }
.emergency-dashboard .tab-content .info-grid .info-card { height: 100%; }
.emergency-dashboard textarea.form-control::placeholder { color: #b9898e; }

.incident-log-screen { background: linear-gradient(145deg, #fff4f4 0%, #ffe6e9 100%); }
.incident-log .dashboard-header { border-radius: 24px; padding: 28px 32px; box-shadow: 0 20px 50px rgba(230,57,70,0.12); backdrop-filter: blur(12px); background: rgba(255,255,255,0.9); }
.incident-error { background: rgba(230,57,70,0.1); border: 1px solid rgba(230,57,70,0.25); color: #8e1a24; padding: 12px 16px; border-radius: 12px; }
.incident-metrics { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 18px; }
.incident-metric { display: flex; align-items: center; gap: 16px; padding: 18px 20px; background: rgba(255,255,255,0.9); border-radius: 20px; box-shadow: 0 16px 38px rgba(230,57,70,0.1); }
.incident-metric .metric-icon { width: 54px; height: 54px; border-radius: 16px; display: flex; align-items: center; justify-content: center; color: #fff; font-size: 20px; box-shadow: inset 0 0 0 1px rgba(255,255,255,0.2); }
.incident-metric .metric-icon.info { background: rgba(58,134,255,0.9); }
.incident-metric .metric-icon.danger { background: rgba(230,57,70,0.9); }
.incident-metric .metric-icon.warning { background: rgba(244,162,97,0.9); }
.incident-metric .metric-icon.success { background: rgba(42,157,143,0.9); }
.incident-metric .metric-label { font-size: 13px; color: #765457; text-transform: uppercase; letter-spacing: 0.08em; }
.incident-metric .metric-value { font-size: 28px; font-weight: 700; color: #49171c; }
.incident-layout { display: grid; grid-template-columns: 360px 1fr; gap: 24px; align-items: stretch; }
.incident-list-panel { background: rgba(255,255,255,0.92); border-radius: 20px; box-shadow: 0 26px 60px rgba(230,57,70,0.1); padding: 20px 22px; display: flex; flex-direction: column; gap: 18px; }
.incident-list-header { display: flex; justify-content: space-between; align-items: baseline; font-weight: 700; color: #8e1a24; }
.incident-list-controls { display: flex; flex-direction: column; gap: 10px; }
.incident-list-controls .form-control { border-radius: 12px; border: 1px solid rgba(230,57,70,0.2); background: rgba(255,255,255,0.8); }
.incident-filters .filters-inline { display: flex; gap: 12px; flex-wrap: wrap; align-items: center; }
.incident-filters .filters-inline .form-control { min-width: 180px; flex: 1; }
.incident-filters .filters-inline input.form-control { flex: 2; min-width: 220px; }
.incident-filters .filters-summary { margin-top: 12px; font-size: 13px; font-weight: 600; color: #8a4b52; }
.incident-list { display: flex; flex-direction: column; gap: 12px; max-height: 600px; overflow-y: auto; padding-right: 4px; }
.incident-list::-webkit-scrollbar { width: 6px; }
.incident-list::-webkit-scrollbar-thumb { background: rgba(230,57,70,0.3); border-radius: 6px; }
.incident-list-item { background: linear-gradient(135deg, rgba(255,255,255,0.95), rgba(255,245,245,0.95)); border: 1px solid rgba(230,57,70,0.18); border-radius: 16px; padding: 16px 18px; text-align: left; display: flex; flex-direction: column; gap: 10px; cursor: pointer; box-shadow: 0 16px 35px rgba(230,57,70,0.08); transition: all .18s ease-in-out; color: inherit; }
.incident-list-item:hover { transform: translateY(-2px); box-shadow: 0 22px 48px rgba(230,57,70,0.14); }
.incident-list-item.active { border-color: #e63946; box-shadow: 0 28px 60px rgba(230,57,70,0.22); background: linear-gradient(135deg, rgba(255,255,255,0.98), rgba(255,242,244,0.98)); }
.incident-list-row { display: flex; justify-content: space-between; align-items: center; font-weight: 600; color: #7a2c32; }
.incident-code { font-size: 13px; text-transform: uppercase; letter-spacing: 0.12em; }
.incident-list-title { font-size: 17px; font-weight: 700; color: #4b1b20; }
.incident-list-meta { display: flex; justify-content: space-between; font-size: 13px; color: #7a5559; }
.incident-list-meta span { display: flex; align-items: center; gap: 6px; }
.incident-list-footer { display: flex; justify-content: space-between; align-items: center; font-size: 12px; color: #a06f74; }
.incident-detail-panel { background: rgba(255,255,255,0.95); border-radius: 24px; box-shadow: 0 30px 60px rgba(230,57,70,0.12); padding: 28px 30px; display: flex; flex-direction: column; gap: 28px; position: relative; overflow: hidden; }
.incident-detail-header { display: flex; justify-content: space-between; align-items: flex-start; gap: 24px; }
.incident-detail-header h2 { margin: 0; font-size: 26px; color: #4a0f14; }
.incident-detail-tags { display: flex; gap: 10px; margin-top: 10px; }
.incident-detail-actions { display: flex; gap: 10px; flex-wrap: wrap; }
.incident-section { display: flex; flex-direction: column; gap: 18px; }
.incident-section-title { font-size: 18px; font-weight: 700; color: #7a2d33; }
.incident-meta-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 16px; }
.incident-meta { background: rgba(255,245,245,0.9); border: 1px solid rgba(230,57,70,0.12); border-radius: 14px; padding: 14px; display: flex; flex-direction: column; gap: 6px; }
.incident-meta .label { font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.08em; color: #a87076; }
.incident-meta .value { font-size: 15px; font-weight: 600; color: #3d1a1d; }
.incident-description { margin: 0; background: rgba(255,255,255,0.8); border-left: 4px solid #e63946; padding: 16px 18px; border-radius: 12px; color: #4d1e22; }
.incident-timeline, .incident-actions { display: flex; flex-direction: column; gap: 14px; }
.timeline-entry, .action-entry { background: rgba(255,255,255,0.92); border: 1px solid rgba(230,57,70,0.16); border-radius: 16px; padding: 16px 18px; box-shadow: 0 18px 40px rgba(230,57,70,0.08); }
.entry-time { font-size: 12px; color: #b47a7f; margin-bottom: 6px; font-weight: 600; letter-spacing: 0.05em; }
.entry-title { font-size: 16px; font-weight: 700; color: #481a1f; }
.entry-detail { font-size: 14px; color: #5b2b30; margin-top: 6px; }
.entry-actor { font-size: 12px; color: #8c5a60; margin-top: 8px; }
.entry-head { display: flex; justify-content: space-between; align-items: center; margin-bottom: 6px; }
.entry-officer { font-weight: 600; color: #5b1f24; display: flex; align-items: center; gap: 6px; }
.notes-actions { display: flex; justify-content: flex-end; gap: 10px; }
.incident-notes { background: rgba(255,255,255,0.86); border: 1px solid rgba(230,57,70,0.2); border-radius: 16px; padding: 16px; }
.timeline-form { display: flex; gap: 8px; align-items: center; }
.timeline-form .form-control { flex: 1; border-radius: 10px; border: 1px solid rgba(230,57,70,0.2); }
.attachments .attachment-summary { display: flex; gap: 16px; font-weight: 600; color: #5b1f24; }
.attachment-hint { margin: 0; font-size: 13px; color: #8a5a5f; }
.incident-empty { background: rgba(255,255,255,0.8); border: 1px dashed rgba(230,57,70,0.3); border-radius: 14px; padding: 20px; text-align: center; color: #b36c74; font-weight: 600; }
.incident-empty.large { padding: 60px 20px; font-size: 16px; }
.incident-footer-actions { margin-top: auto; display: flex; justify-content: space-between; align-items: center; gap: 16px; background: rgba(255,255,255,0.85); border-radius: 18px; padding: 16px 20px; border: 1px solid rgba(230,57,70,0.16); box-shadow: 0 18px 42px rgba(230,57,70,0.08); }
.incident-footer-actions .footer-buttons { display: flex; gap: 10px; }
.incident-editor { position: fixed; inset: 0; display: flex; align-items: center; justify-content: center; z-index: 40; }
.incident-editor .editor-backdrop { position: absolute; inset: 0; background: rgba(36,9,12,0.55); backdrop-filter: blur(6px); }
.incident-editor .editor-card { position: relative; width: min(860px, 92vw); max-height: 92vh; overflow: hidden; display: flex; flex-direction: column; background: linear-gradient(145deg, #fff, #ffe9ec); border-radius: 24px; box-shadow: 0 45px 90px rgba(36,9,12,0.45); }
.editor-header { display: flex; justify-content: space-between; align-items: center; padding: 22px 28px; border-bottom: 1px solid rgba(230,57,70,0.15); background: rgba(255,255,255,0.92); }
.editor-header h2 { margin: 0; font-size: 22px; color: #4b0f14; }
.editor-close { background: none; border: none; font-size: 20px; cursor: pointer; color: #b34a53; }
.editor-body { padding: 24px 28px; display: flex; flex-direction: column; gap: 18px; overflow-y: auto; }
.editor-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; }
.editor-grid label, .editor-body label.full { display: flex; flex-direction: column; gap: 6px; font-size: 13px; color: #71272d; }
.editor-body input, .editor-body select, .editor-body textarea { border-radius: 12px; border: 1px solid rgba(230,57,70,0.25); padding: 10px 12px; background: rgba(255,255,255,0.92); font-size: 14px; color: #3b1a1d; }
.editor-body textarea { resize: vertical; }
.editor-body small.error { color: #d32f45; font-size: 12px; }
.editor-footer { display: flex; justify-content: flex-end; gap: 12px; padding: 18px 28px; border-top: 1px solid rgba(230,57,70,0.15); background: rgba(255,255,255,0.92); }

.emergency-reports.editor-open .dashboard-header { opacity: 0; pointer-events: none; height: 0; margin: 0; padding: 0; overflow: hidden; transition: opacity .2s ease; }
.emergency-reports.editor-open .incident-metrics { margin-top: 0; }

.incident-editor .report-editor { width: min(760px, 94vw); max-height: 88vh; border-radius: 26px; background: #ffffff; border: 1px solid rgba(230,57,70,0.12); box-shadow: 0 30px 70px rgba(36,9,12,0.25); overflow: hidden; display: flex; flex-direction: column; }
.report-editor .editor-header { background: #fff; border-bottom: 1px solid rgba(230,57,70,0.12); padding: 20px 26px; }
.report-editor .editor-body { background: linear-gradient(180deg, #ffffff 0%, #fff6f7 100%); padding: 26px 30px; }
.report-editor .editor-footer { background: #fff; border-top: 1px solid rgba(230,57,70,0.12); padding: 18px 30px; }
.report-editor .editor-grid { gap: 14px; }
.report-editor .editor-grid label { padding: 0; }
.report-editor .editor-grid label span { font-size: 12px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.06em; color: #9a5056; }
.report-editor .editor-body input,
.report-editor .editor-body select,
.report-editor .editor-body textarea { background: #fff; border: 1px solid rgba(230,57,70,0.18); box-shadow: none; transition: border-color .2s ease, box-shadow .2s ease; }
.report-editor .editor-body input:focus,
.report-editor .editor-body select:focus,
.report-editor .editor-body textarea:focus { border-color: rgba(230,57,70,0.45); box-shadow: 0 0 0 3px rgba(230,57,70,0.12); }
.report-editor .timeline-form { background: #fff7f7; border: 1px solid rgba(230,57,70,0.12); border-radius: 16px; padding: 16px; }
.report-editor .timeline-form small { color: #9a5a60; }
.report-editor .btn-outline { border: 1px solid rgba(230,57,70,0.2); color: #a12b36; background: #fff; transition: all .15s ease; }
.report-editor .btn-outline:hover { border-color: rgba(230,57,70,0.35); color: #781a23; box-shadow: 0 8px 18px rgba(230,57,70,0.14); }
.report-editor .btn-outline.active { background: rgba(230,57,70,0.14); border-color: rgba(230,57,70,0.45); color: #7f1d27; box-shadow: inset 0 0 0 1px rgba(255,255,255,0.6); }
.report-editor .note-card { background: #fff; border: 1px solid rgba(230,57,70,0.1); box-shadow: none; }
.report-editor .notes-list { background: #fff; border-radius: 16px; padding: 8px 0; }
.report-editor .notes-actions .btn-outline { border-radius: 999px; padding: 10px 18px; }
.report-editor textarea { min-height: 110px; }
.report-editor .editor-section { background: #fff; border-radius: 18px; border: 1px solid rgba(230,57,70,0.12); padding: 20px 24px; display: flex; flex-direction: column; gap: 16px; box-shadow: 0 12px 30px rgba(230,57,70,0.08); }
.report-editor .editor-section + .editor-section { margin-top: 18px; }
.report-editor .section-head { display: flex; align-items: center; gap: 12px; }
.report-editor .section-head h3 { margin: 0; font-size: 18px; color: #781d23; }
.report-editor .section-note { font-size: 13px; color: #a05d62; flex: 1; }
.report-editor .btn-pill { border-radius: 999px; padding: 10px 18px; }
.report-editor .editor-grid.compact { grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 12px; }
.report-editor .editor-grid.compact label span { font-size: 11px; }
.report-editor .incident-selector { display: grid; gap: 12px; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); }
.report-editor .incident-option { border: 1px solid rgba(230,57,70,0.15); border-radius: 14px; padding: 12px 14px; display: flex; flex-direction: column; gap: 6px; background: #fff; transition: border-color .2s ease, box-shadow .2s ease; }
.report-editor .incident-option input { accent-color: #e63946; }
.report-editor .incident-option .code { font-weight: 700; font-size: 13px; color: #9c3a41; }
.report-editor .incident-option .title { font-size: 14px; color: #4d1f23; }
.report-editor .incident-option.active { border-color: rgba(230,57,70,0.45); box-shadow: 0 10px 24px rgba(230,57,70,0.1); }
.report-editor .metric-chips { display: flex; flex-wrap: wrap; gap: 10px; }
.report-editor .metric-chip { background: rgba(230,57,70,0.08); border: 1px solid rgba(230,57,70,0.18); border-radius: 14px; padding: 10px 14px; display: flex; align-items: center; gap: 10px; flex-wrap: wrap; }
.report-editor .metric-chip strong { color: #7f1d27; }
.report-editor .metric-chip button { border: none; background: none; color: #9e2b36; cursor: pointer; }
.report-editor .metrics-editor { background: rgba(230,57,70,0.05); border-radius: 16px; border: 1px dashed rgba(230,57,70,0.3); padding: 16px; display: flex; flex-direction: column; gap: 12px; }
.report-editor .metrics-actions { display: flex; justify-content: flex-end; }
.report-editor .advanced-toggle { display: flex; justify-content: center; }
.report-editor .advanced-panel { gap: 18px; background: linear-gradient(180deg, rgba(255,240,242,0.7) 0%, #fff 100%); }
.report-editor .schedule-block { display: flex; flex-direction: column; gap: 12px; border-top: 1px dashed rgba(230,57,70,0.2); padding-top: 12px; }
.report-editor .schedule-toggle { display: flex; align-items: center; gap: 10px; font-size: 14px; color: #7b2029; font-weight: 600; }

.emergency-protocols.editor-open .dashboard-header { opacity: 0; pointer-events: none; height: 0; margin: 0; padding: 0; overflow: hidden; transition: opacity .2s ease; }
.emergency-protocols .incident-layout { grid-template-columns: 340px 1fr; gap: 24px; }
.emergency-protocols .incident-list-panel { background: #ffffff; border-radius: 22px; border: 1px solid rgba(230,57,70,0.08); box-shadow: 0 24px 48px rgba(36,9,12,0.08); padding: 22px; display: flex; flex-direction: column; gap: 18px; }
.emergency-protocols .incident-list-header span { font-size: 16px; font-weight: 700; color: #7d1c22; }
.emergency-protocols .incident-list-header small { color: #a65c63; font-weight: 600; }
.emergency-protocols .incident-list-controls { display: flex; flex-direction: column; gap: 12px; }
.emergency-protocols .incident-list { flex: 1; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; scrollbar-width: thin; }
.emergency-protocols .incident-list-item { text-align: left; border-radius: 16px; border: 1px solid rgba(230,57,70,0.12); padding: 14px 16px; background: #fff; display: flex; flex-direction: column; gap: 10px; transition: border-color .2s ease, box-shadow .2s ease, transform .15s ease; }
.emergency-protocols .incident-list-item:hover { border-color: rgba(230,57,70,0.35); box-shadow: 0 12px 30px rgba(230,57,70,0.12); transform: translateY(-2px); }
.emergency-protocols .incident-list-item.active { border-color: rgba(230,57,70,0.45); box-shadow: 0 18px 45px rgba(230,57,70,0.16); }
.emergency-protocols .incident-list-row { display: flex; justify-content: space-between; align-items: center; font-size: 13px; }
.emergency-protocols .incident-code { font-weight: 700; color: #a0222b; text-transform: uppercase; letter-spacing: 0.06em; }
.emergency-protocols .incident-list-title { font-size: 16px; font-weight: 700; color: #39151a; }
.emergency-protocols .incident-list-meta,
.emergency-protocols .incident-list-footer { display: flex; justify-content: space-between; gap: 10px; font-size: 12px; color: #8b4c53; }
.emergency-protocols .incident-empty { background: #fff; border: 1px dashed rgba(230,57,70,0.25); border-radius: 16px; padding: 24px; text-align: center; color: #a65b62; font-weight: 500; }
.emergency-protocols .incident-empty.large { padding: 48px 24px; font-size: 16px; }
.emergency-protocols .incident-detail-panel { background: #ffffff; border-radius: 22px; border: 1px solid rgba(230,57,70,0.08); box-shadow: 0 18px 40px rgba(20, 12, 16, 0.08); padding: 26px 30px; overflow-y: auto; }
.emergency-protocols .incident-detail-header { display: flex; justify-content: space-between; align-items: flex-start; gap: 24px; padding-bottom: 18px; border-bottom: 1px solid rgba(230,57,70,0.12); }
.emergency-protocols .incident-detail-header h2 { margin: 0 0 6px; font-size: 24px; color: #5c1a1f; letter-spacing: 0.01em; }
.emergency-protocols .incident-detail-tags { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 10px; }
.emergency-protocols .incident-description { color: #443032; font-size: 14px; margin: 0; line-height: 1.5; background: #fff; border-radius: 12px; padding: 12px 14px; border: 1px solid rgba(230,57,70,0.08); }
.emergency-protocols .incident-section { margin-top: 28px; display: flex; flex-direction: column; gap: 14px; }
.emergency-protocols .incident-section-title { font-size: 18px; color: #791d24; margin: 0; }
.emergency-protocols .incident-meta-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 14px; }
.emergency-protocols .incident-meta { background: rgba(255,248,249,0.95); border-radius: 16px; border: 1px solid rgba(230,57,70,0.12); padding: 16px; }
.emergency-protocols .incident-meta .label { font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.08em; color: #a55a61; }
.emergency-protocols .incident-meta .value { font-size: 14px; color: #3d171c; font-weight: 600; }
.emergency-protocols .protocol-steps-detail { margin: 0; padding-left: 16px; display: grid; gap: 8px; }
.emergency-protocols .protocol-steps-detail li { background: #fff; border: 1px solid rgba(230,57,70,0.08); border-radius: 10px; padding: 10px 12px; color: #402024; list-style: decimal; box-shadow: 0 6px 16px rgba(36,9,12,0.06); }

.protocol-editor .steps-editor { display: flex; flex-direction: column; gap: 14px; }
.protocol-editor .step-editor-row { display: flex; align-items: center; gap: 12px; background: #fff; border-radius: 14px; padding: 12px 14px; border: 1px solid rgba(230,57,70,0.2); }
.protocol-editor .step-editor-row .badge { background: #e63946; color: #fff; border-radius: 10px; padding: 6px 12px; font-size: 12px; font-weight: 700; }
.protocol-editor .step-editor-row input { flex: 1; border-radius: 10px; border: 1px solid rgba(230,57,70,0.25); padding: 10px 12px; }
.protocol-editor .step-editor-add { display: flex; gap: 12px; align-items: center; }
.protocol-editor .step-editor-add input { flex: 1; border-radius: 10px; border: 1px dashed rgba(230,57,70,0.3); padding: 10px 12px; background: #fff; }

.emergency-protocols .badge { display: inline-flex; align-items: center; justify-content: center; padding: 6px 12px; border-radius: 999px; font-size: 11px; font-weight: 700; background: rgba(230,57,70,0.14); color: #a22d36; text-transform: uppercase; letter-spacing: 0.06em; }
.emergency-protocols .badge-success { background: rgba(42,157,143,0.18); color: #257568; }
.emergency-protocols .badge-warning { background: rgba(244,162,97,0.16); color: #aa5d1d; }

.emergency-protocols .btn-outline { border-radius: 999px; padding: 10px 18px; border: 1px solid rgba(230,57,70,0.35); color: #a12b35; background: #fff; cursor: pointer; transition: all .2s ease; }
.emergency-protocols .btn-outline:hover { border-color: rgba(230,57,70,0.6); box-shadow: 0 12px 25px rgba(230,57,70,0.18); color: #7a1d25; }

@media (max-width: 1200px) {
  .incident-layout { grid-template-columns: 1fr; }
  .incident-list-panel { order: 2; }
  .incident-detail-panel { order: 1; }
}

@media (max-width: 768px) {
  .emergency-dashboard .dashboard-main { padding: 20px; }
  .incident-metrics { grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); }
  .incident-detail-actions { flex-direction: column; align-items: stretch; }
  .incident-footer-actions { flex-direction: column; align-items: flex-start; }
  .incident-footer-actions .footer-buttons { width: 100%; justify-content: flex-start; flex-wrap: wrap; }
  .incident-editor .editor-card { width: 96vw; border-radius: 20px; }
}

/* Header */
.dash-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 12px 0; border-bottom: 1px solid #f1d4d6; }
.dash-header h2 { color: var(--danger); font-size: 22px; font-weight: 700; margin: 0; }
.user-info { display: flex; align-items: center; }
.user-info img { width: 40px; height: 40px; border-radius: 50%; margin-right: 10px; }
.status-badge { padding: 5px 10px; border-radius: 20px; font-size: 12px; font-weight: 600; margin-left: 10px; }
.status-active { background-color: rgba(230,57,70,0.15); color: var(--danger); }

/* Quick actions */
.quick-actions { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 20px; }

/* Panels */
.panel { background: white; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); padding: 20px; margin-bottom: 24px; }
.form-title { font-size: 20px; margin-bottom: 20px; color: var(--danger); }
.form-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; }
.form-group { margin-bottom: 15px; }
.form-group label { display: block; margin-bottom: 8px; font-weight: 600; color: var(--dark); }
.form-control { width: 100%; padding: 12px 15px; border: 1px solid #f0c9cd; border-radius: 8px; font-size: 1rem; transition: border-color .3s, box-shadow .3s; }
.form-control:focus { outline: none; border-color: var(--danger); box-shadow: 0 0 0 3px rgba(230,57,70,0.15); }

/* Buttons (scoped) */
.emergency-dashboard .btn { padding: 12px 20px; border-radius: 8px; font-weight: 600; transition: all .3s; display: inline-block; border: none; cursor: pointer; font-size: 1rem; }
.emergency-dashboard .btn-primary { background: var(--danger); color: #fff; }
.emergency-dashboard .btn-primary:hover { background: #b3202c; }
.emergency-dashboard .btn-danger { background: #b3202c; color: #fff; }
.emergency-dashboard .btn-danger:hover { background: #8e1a24; }
.emergency-dashboard .btn-success { background: var(--success); color: #fff; }
.emergency-dashboard .btn-success:hover { background: #1e7d71; }

/* Tables */
.table-responsive { overflow-x: auto; }
table { width: 100%; border-collapse: collapse; }
th, td { padding: 12px 15px; text-align: left; border-bottom: 1px solid #f6dfe1; }
th { background-color: #fff0f1; font-weight: 600; color: var(--dark); }
tr:hover { background-color: #fff6f7; }

.reports-table-panel { margin-top: 32px; background: #ffffff; border-radius: 20px; border: 1px solid rgba(230,57,70,0.12); box-shadow: 0 24px 48px rgba(36,9,12,0.08); padding: 24px 26px; display: flex; flex-direction: column; gap: 18px; }
.reports-table-panel .section-header { display: flex; justify-content: space-between; align-items: center; gap: 16px; flex-wrap: wrap; }
.reports-table-panel .section-title { font-size: 20px; color: #741821; font-weight: 700; }
.reports-table-panel .section-subtitle { font-size: 13px; color: #87636a; }
.reports-table-panel .section-meta { font-size: 13px; font-weight: 600; color: #8a4b52; }
.reports-table { width: 100%; border-collapse: collapse; }
.reports-table th, .reports-table td { padding: 12px 14px; text-align: left; border-bottom: 1px solid rgba(230,57,70,0.12); }
.reports-table th { background: rgba(230,57,70,0.08); font-size: 12px; letter-spacing: 0.05em; text-transform: uppercase; color: #6b1d25; }
.reports-table tr:hover { background: rgba(230,57,70,0.05); }
.reports-table-actions { display: flex; gap: 8px; }
.reports-table-actions .btn-small { padding: 6px 12px; border-radius: 8px; font-size: 12px; font-weight: 600; }

/* Badges */
.badge { display: inline-block; padding: 4px 10px; border-radius: 999px; font-size: 12px; font-weight: 700; text-transform: capitalize; }
.badge-urgent { background: rgba(255, 196, 0, 0.15); color: #a67c00; }
.badge-critical { background: rgba(230,57,70,0.15); color: #e63946; }

/* Blink rows for active alerts */
@keyframes blink { 50% { background-color: #fff0f1; } }
.row-blink { animation: blink 1s linear infinite; }

/* Highlight risky profiles */
.row-highlight { background-color: #fff9e6; }

/* Map */
.map-placeholder { border: 2px dashed #f3c2c5; border-radius: 10px; padding: 12px; }
.map-legend { display: flex; gap: 12px; margin-bottom: 8px; align-items: center; }
.legend { display: inline-block; width: 12px; height: 12px; border-radius: 3px; margin-right: 6px; }
.legend.critical { background: #e63946; }
.legend.affected { background: #f4a261; }
.legend.offline { background: #9aa0a6; }
.map-canvas { display: grid; grid-template-columns: repeat(8, 1fr); gap: 10px; min-height: 160px; padding: 10px; background: #fff; border-radius: 8px; }
.pin { width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #fff; box-shadow: 0 2px 8px rgba(0,0,0,0.15); }
.pin.critical { background: #e63946; animation: blink 1s linear infinite; }
.pin.affected { background: #f4a261; }

/* History and files */
.file-list { margin-top: 10px; display: flex; gap: 8px; flex-wrap: wrap; }
.file-pill { background: #fff0f1; color: #5c1016; border: 1px solid #f3c2c5; padding: 6px 10px; border-radius: 999px; font-size: 12px; }
.history h4 { margin-top: 20px; margin-bottom: 10px; }
.history ul { padding-left: 16px; }

/* Ack box */
.ack-box { margin-top: 12px; background: #fff0f1; border: 1px solid #f3c2c5; border-radius: 8px; padding: 12px; }

/* Hide the red alert banner on Emergency Dashboard */
.emergency-dashboard .alert-banner { display: none !important; }

/* Responsive */
@media (max-width: 992px) {
  .dashboard-container { flex-direction: column; }
}
@media (max-width: 768px) {
  .form-grid { grid-template-columns: 1fr; }
}
